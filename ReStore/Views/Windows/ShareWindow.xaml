<ui:FluentWindow x:Class="ReStore.Views.Windows.ShareWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml" Title="Share File" Width="500" Height="400" WindowStartupLocation="CenterScreen" ResizeMode="NoResize" Background="{ui:ThemeResource ApplicationBackgroundBrush}">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="Share File" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,15"/>

        <TextBlock Grid.Row="1" Text="File to share:" Foreground="{ui:ThemeResource TextFillColorSecondaryBrush}" Margin="0,0,0,5"/>
        <TextBlock x:Name="FilePathText" Grid.Row="2" Text="C:\Path\To\File.txt" TextTrimming="CharacterEllipsis" FontWeight="Medium" Margin="0,0,0,15"/>

        <TextBlock Grid.Row="3" Text="Select Storage Provider:" Foreground="{ui:ThemeResource TextFillColorSecondaryBrush}" Margin="0,0,0,5"/>
        <ComboBox x:Name="StorageProviderCombo" Grid.Row="4" Margin="0,0,0,15" VerticalAlignment="Top" DisplayMemberPath="Key" SelectedValuePath="Key"/>

        <StackPanel x:Name="ResultPanel" Grid.Row="5" Visibility="Collapsed" VerticalAlignment="Top" Margin="0,0,0,15">
            <TextBlock Text="Share Link:" Foreground="{ui:ThemeResource TextFillColorSecondaryBrush}" Margin="0,0,0,5"/>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBox x:Name="LinkBox" IsReadOnly="True" Margin="0,0,10,0"/>
                <ui:Button Grid.Column="1" Content="Copy" Click="CopyLink_Click"/>
            </Grid>
            <TextBlock Text="Link expires in 7 days." FontSize="11" Foreground="{ui:ThemeResource TextFillColorSecondaryBrush}" Margin="0,5,0,0"/>
        </StackPanel>

        <ProgressBar x:Name="ProgressBar" Grid.Row="6" IsIndeterminate="True" Visibility="Collapsed" Margin="0,0,0,10"/>

        <StackPanel Grid.Row="6" Orientation="Horizontal" HorizontalAlignment="Right">
            <ui:Button Content="Close" Appearance="Secondary" Click="Close_Click" Margin="0,0,10,0"/>
            <ui:Button x:Name="ShareButton" Content="Share" Appearance="Primary" Click="Share_Click"/>
        </StackPanel>
    </Grid>
</ui:FluentWindow>
